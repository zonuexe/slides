<!DOCTYPE html>
<html>
<head>
<title></title>
<!-- 2019-11-03 Sun 16:18 -->
<meta  charset="utf-8" />
<meta  http-equiv="X-UA-Compatible" content="chrome=1" />
<meta  name="generator" content="Org-mode with org-ioslide" />
<meta  name="author" content="USAMI Kenta @tadsan" />


<!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
<!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--This one seems to work all the time, but really small on ipad-->
<!--<meta name="viewport" content="initial-scale=0.4">-->
<meta name="apple-mobile-web-app-capable" content="yes" />
<link rel="stylesheet" media="all" href="theme/css/default.css" />
<link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="theme/css/phone.css" />
<link rel='stylesheet' media='all' href='theme/css/small-icon.css' />
<base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
<script data-main='js/slides' src='js/require-2.3.6.min.js'></script>

   <script src="js/jquery-1.7.1.min.js" type="text/javascript"></script>

<script src="js/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML,local/local" type="text/javascript"></script>
</head>
<body style="opacity: 0">
<slides class="layout-widescreen">
<slide class="title-slide segue nobackground">
       <aside class="gdbar"><img src="images/org-icon.png"></aside>
       <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
       <hgroup class="auto-fadein">
         <h1 data-config-title><!-- populated from slide_config.json --></h1>
         <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
         <p data-config-presenter><!-- populated from slide_config.json --></p>
       </hgroup>
    </slide>
  <slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-orgc48de81" class="outline-2">
<h2 id="orgc48de81">About me</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li><b>Kenta Usami</b> a.k.a. @tadsan
<ul>
<li><b>Usami</b> is my family name, call me <b>Kenta</b> or <code>/たっ?どさん/</code>.</li>
</ul></li>
<li>Current maintainer of <a href="https://github.com/emacs-php/php-mode">Emacs PHP Mode</a></li>
<li>I am Vim beginner since 2011</li>
<li>I am Emacs user since 2013</li>
<li>I am PHPer, Emacs Lisper and language hobyist</li>
<li>I am member of <a href="https://emacs-jp.github.io/">Emacs JP</a> community</li>
</ul>
<pre class="example">
% cat ~/.zsh_history | grep -v cd | grep -Eo 'emacs|vim|micro' | sort | uniq -c | sort -nr
   2226 vim
     78 emacs
     64 micro
</pre>


</article>

</slide>
</slide>
<slide id="sec-" class=" segue dark quote nobackground" style="background-image: url(nil)">
<aside class="gdbar right bottom"><img src="images/org-icon.png"></aside><hgroup class="">
       <h2 class=" "><div id="outline-container-org7926eb6" class="outline-2">
<h2 id="org7926eb6">Vim is awesome!</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="flexbox vleft auto-fadein" id="text-">


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-org38e232a" class="outline-2">
<h2 id="org38e232a">Background of this presentation</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li>I respect my colleague who has done complex refactoring with Vim script many times</li>
<li>It is possible to write text processing in Lisp and run it in Emacs, but it is more verbose than Vim</li>
<li>In my opinion, Vim is more efficient and reliable in text processing than Emacs</li>
</ul>


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-orge41c3ae" class="outline-2">
<h2 id="orge41c3ae">“Renewal of large-scale website URL”</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li>Presentation at <b><b>PHP Conference Japan 2017</b></b></li>
<li>We had to normalize many class and function names</li>
</ul>
<article class="flexbox vcenter">

<div class="figure">
<p><img src="images/phpcon2017.png" alt="phpcon2017.png" height="380px" />
</p>
</div>
</article>


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-org57de0fb" class="outline-2">
<h2 id="org57de0fb">Why Vim script?</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li>Vim features are more powerful than AWK and sed
<ul>
<li>Text object, macro, register, auto-indent, &#x2026;etc.</li>
</ul></li>
</ul>
<article class="flexbox vcenter">

<div class="figure">
<p><img src="images/why-vim-script.png" alt="why-vim-script.png" height="380px" />
</p>
</div>
</article>


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-orga1fb127" class="outline-2">
<h2 id="orga1fb127">Rename class name using Vim script</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li>This example is simple, so it can be done with shell script and <code>sed</code></li>
<li>A complex refactoring of hundreds of files was actually handled by Vim script</li>
</ul>
<article class="flexbox vcenter">

<div class="figure">
<p><img src="images/rename-class.png" alt="rename-class.png" height="380px" />
</p>
</div>
</article>


</article>

</slide>
</slide>
<slide id="sec-" class=" segue dark quote nobackground" style="background-image: url(nil)">
<aside class="gdbar right bottom"><img src="images/org-icon.png"></aside><hgroup class="">
       <h2 class=" "><div id="outline-container-orgfc4f9fb" class="outline-2">
<h2 id="orgfc4f9fb">Prepare for text processing in Vim</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="flexbox vleft auto-fadein" id="text-">


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-org743f8da" class="outline-2">
<h2 id="org743f8da">Read “Practical Vim” book (ja:実践Vim)</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<article class="flexbox vcenter">

<div class="figure">
<p><img src="images/practical-vim.png" alt="practical-vim.png" height="450px" />
</p>
</div>
</article>


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-org62f6d36" class="outline-2">
<h2 id="org62f6d36">Read “Practical Vim” book (ja:実践Vim)</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<p>
I read this book several times but I don't remember it almost because I have a weak memory&#x2026;
</p>
<article class="flexbox vcenter">

<div class="figure">
<p><img src="images/practical-vim.png" alt="practical-vim.png" height="350px" />
</p>
</div>
</article>


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-org28cab29" class="outline-2">
<h2 id="org28cab29">Execute Vim script from the shell</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li>Create a shell script</li>
</ul>
<div class="org-src-container">

<pre class="prettyprint" data-lang="bash">
#!/bin/bash

vim -N -u NONE -i NONE -e -s -S "$0.vim" "$@"</pre>

</div>
<ul>
<li>The combination of <code>-e</code> and <code>-s</code> means <b><b>start in ex mode</b></b> and <b><b>silent mode</b></b></li>
<li>Omitting that option during development will make debugging easier</li>
</ul>


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-orgfb7d20a" class="outline-2">
<h2 id="orgfb7d20a">Write vim script</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li>TIP 100: Alphabetize the Properties of Each Rule in a CSS File</li>
</ul>
<div class="org-src-container">

<pre class="prettyprint" data-lang="vimrc">
global /{/ .+1, /}/-1 sort

" デバッグ中はここ
update  " 変更点があるファイルにすべて書き込む
qall!   " すべての終了</pre>

</div>


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-orgd148a57" class="outline-2">
<h2 id="orgd148a57">Write vim script</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li>Implement tac command with Vim script</li>
</ul>
<div class="org-src-container">

<pre class="prettyprint" data-lang="vimrc">
let i = 1
let lines = line('$')
while i &lt; lines
    :$
    normal! dd
    execute ':' . i
    normal! P
    let i = i + 1
endwhile

update
qall!</pre>

</div>


</article>

</slide>
</slide>
<slide id="sec-" class=" segue dark quote nobackground" style="background-image: url(nil)">
<aside class="gdbar right bottom"><img src="images/org-icon.png"></aside><hgroup class="">
       <h2 class=" "><div id="outline-container-orgbf0d748" class="outline-2">
<h2 id="orgbf0d748">Conclusion</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="flexbox vleft auto-fadein" id="text-">


</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-org31f3a66" class="outline-2">
<h2 id="org31f3a66">Conclusion</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li>Vim replaces text processing with sed and awk</li>
<li>Describe your Vim operation in script and enable efficient text processing for multiple files</li>
<li>I'm immature and still can't write complicated processes, but you can probably use headless Vim</li>
<li>I have experience with Emacs buffer operations using Lisp, so writing a Vim script for text processing was a fun experience like a puzzle.</li>
</ul>


</article>

</slide>
</slide>
<slide id="sec-" class=" thank-you-slide segue nobackground" style="background-image: url(nil)">
<aside class="gdbar right"><img src="images/org-icon.png"></aside><article class="flexbox vleft auto-fadein" id="text-">
<h2>
  <p>Thank you! ヾ(〃＞＜)ﾉﾞ☆</p>
</h2>
<br>
<p class="auto-fadein" data-config-contact>
</p>
</article>

</slide>
</slide>
<slide id="sec-"  >
<hgroup class="">
       <h2 class=" "><div id="outline-container-org6d476a2" class="outline-2">
<h2 id="org6d476a2">Reference document</h2>
</div>
</h2>
       <h3></h3>
       </hgroup>
<article class="" id="text-">
<ul>
<li><a href="https://inside.pixiv.blog/tadsan/2899">pixivの基盤ノウハウ大公開！PHPカンファレンス2017登壇レポート - pixiv inside</a></li>
<li><a href="https://thinca.hatenablog.com/entry/20100201/1265009821">Vimスクリプト基礎文法最速マスター - 永遠に未完成</a> by @thinka</li>
<li><a href="https://qiita.com/kana1/items/68b21838013bfd65b097">VimでPHPのコードをシュワルツ変換してソートする</a> by @kana</li>
<li>Powered by&#x2026;
<ul>
<li>Emacs <a href="https://github.com/mcandre/vimrc-mode">mcandre/vimrc-mode: Enables syntax highlighting for .vimrc/<sub>vimrc</sub> files</a></li>
<li>Emacs <a href="https://github.com/coldnew/org-ioslide">coldnew/org-ioslide: Export org-mode to Google I/O HTML5 slide.</a></li>
</ul></li>
</ul>


</article>

</slide>
<slide class="backdrop"></slide>
</slides> 
<!--[if IE]>
  <script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
  <script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body> 

</html>
